name: merge-ttls
run-name: Merging TTLs
on: [push]
jobs:
  merge-ttl:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repo
        uses: actions/checkout@v3
      - name: find Namespaces in a random ttl file which is not 'all.ttl' and add it to 'all.ttl'
        run: find ./Datensaetze/*.ttl -type f | head -n 1 | xargs grep -h '@prefix' > RKI_DCAT-AP.ttl
      - name: Merge content of all ttl files and append it to 'RKI_DCAT-AP.tll'
        run: find ./Datensaetze/*.ttl | xargs grep -vh '@prefix' >> RKI_DCAT-AP.ttl
      - name: Add and Commit Changes
        uses: EndBug/add-and-commit@v9.0.1
        with:
          message: 'updates file RKI_DCAT-AP.ttl'